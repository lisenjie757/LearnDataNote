import{_ as n,Y as s,Z as a,a0 as t}from"./framework-c2b1cf81.js";const o={},e=t(`<h1 id="lesson3-数据预处理" tabindex="-1"><a class="header-anchor" href="#lesson3-数据预处理" aria-hidden="true">#</a> lesson3. 数据预处理</h1><h2 id="图像和标签的转换函数" tabindex="-1"><a class="header-anchor" href="#图像和标签的转换函数" aria-hidden="true">#</a> 图像和标签的转换函数</h2><ul><li>ToTensor() ：转换PIL图像和NumPy数组为FloatTensor，并归一化图像像素值为[0.,1.]</li><li>Lamda Transforms ：此函数为用户自定义lamda函数；此处函数为将整数转换为one-hot编码，首先创建zero张量，长度取决于类别数，然后调用scatter_函数通过整数y对张量进行1填充</li><li>scatter_函数填充原理(dim=0) ：self[ index[i][j] ] [j] = src[i][j]</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> torch
<span class="token keyword">from</span> torchvision <span class="token keyword">import</span> datasets
<span class="token keyword">from</span> torchvision<span class="token punctuation">.</span>transforms <span class="token keyword">import</span> ToTensor<span class="token punctuation">,</span> Lambda

ds <span class="token operator">=</span> datasets<span class="token punctuation">.</span>FashionMNIST<span class="token punctuation">(</span>
    root <span class="token operator">=</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span>
    train <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
    download <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
    transform <span class="token operator">=</span> ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    target_transform <span class="token operator">=</span> Lambda<span class="token punctuation">(</span><span class="token keyword">lambda</span> y<span class="token punctuation">:</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>torch<span class="token punctuation">.</span><span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scatter_<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>torch<span class="token punctuation">.</span>tensor<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),p=[e];function c(l,i){return s(),a("div",null,p)}const u=n(o,[["render",c],["__file","lesson3_transform.html.vue"]]);export{u as default};
